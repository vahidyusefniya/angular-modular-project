<ion-modal
  #regionModal
  (willDismiss)="onDismiss()"
  [isOpen]="isOpen"
  class="region__modal"
  [handle]="false"
>
  <ng-template>
    <ion-header>
      <ion-toolbar class="px-3">
        <ion-buttons slot="start">
          <ion-button (click)="onDismiss()" color="primary">
            {{ dictionary.Close }}
          </ion-button>
        </ion-buttons>
        <ion-title>{{ dictionary.Regions }}</ion-title>
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <app-text
        [autofocus]="true"
        id="name"
        [Label]="dictionary.Name"
        name="name"
        (inputChange)="onSearchRegion($event)"
        [(ngModel)]="searchText"
      />
      <ion-radio-group
        *ngIf="!loading; else loadingTemp"
        [value]="selectedRegionName"
      >
        <ion-item
          (click)="setRegion(region)"
          *ngFor="let region of regions"
          class="mt-2"
        >
          <ion-avatar slot="start">
            <img
              [lazyLoad]="region.imageUrl ? region.imageUrl : localImageSRC"
              [src]="localImageSRC"
            />
          </ion-avatar>
          <ion-radio [value]="region.name" justify="space-between">
            {{ region.name }}
          </ion-radio>
        </ion-item>
        <div class="No__records__found" *ngIf="regions.length === 0">
          {{ dictionary.NoRecordsFound }}
        </div>
      </ion-radio-group>
      <ng-template #loadingTemp>
        <ion-skeleton-text
          *ngFor="let number of coreService.getSkeletonNumbers(10)"
          style="height: 50px; width: 100%"
          [animated]="true"
        />
      </ng-template>
    </ion-content>
  </ng-template>
</ion-modal>
