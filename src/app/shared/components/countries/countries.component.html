<ion-modal
  [backdropDismiss]="true"
  (willDismiss)="onDismiss()"
  [isOpen]="isOpen"
>
  <ng-template>
    <ion-header>
      <ion-toolbar class="px-3">
        <ion-buttons slot="start">
          <ion-button (click)="onDismiss()" color="primary">
            {{ dictionary.Cancel }}
          </ion-button>
        </ion-buttons>
        <ion-title>{{ dictionary.CountryMobileNumberPrefix }}</ion-title>
        
      </ion-toolbar>
    </ion-header>
    <ion-content class="ion-padding">
      <ion-input
        #searchInput
        id="countrySearchTerm"
        [label]="dictionary.Search"
        name="countrySearchTerm"
        (ionInput)="searchName($event)"
        fill="outline"
        labelPlacement="floating"
      />
      
      <div class="h-50 w-100 d-flex justify-content-center align-items-center" *ngIf="loading; else elseLoading">
        <ion-spinner></ion-spinner>
      </div>
      <ng-template #elseLoading>
        <ion-radio-group [value]="country.id" *ngIf="countries.length > 0; else elseBlock">
          <ion-item
            (click)="onFocusCountry(countryItem!)"
            class="mt-2"
            *ngFor="let countryItem of countries"
          >
            <ion-radio [value]="countryItem.id" justify="space-between">
              (+{{ countryItem.code }}) {{ countryItem.name }}
            </ion-radio>
          </ion-item>
        </ion-radio-group>
        <ng-template #elseBlock>
          <div class="h-50 w-100 d-flex justify-content-center align-items-center">
            {{ "NoRecordsFound" }}
          </div>
        </ng-template>
      </ng-template>
      
    </ion-content>
  </ng-template>
</ion-modal>
