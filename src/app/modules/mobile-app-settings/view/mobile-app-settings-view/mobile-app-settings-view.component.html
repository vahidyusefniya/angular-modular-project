<app-phone-header-layout [showBackButton]="true" />
<ion-content>
  <ion-grid>
    <ion-row>
      <ion-col size="12">
        <ion-item
          color="medium"
          *ngIf="!loading; else loadingTemp"
          lines="full"
        >
          <ion-avatar slot="start">
            <img
              height="40"
              width="40"
              [lazyLoad]="user.pictureUrl!"
              ngSrc="{{ localImageSRC }}"
            />
          </ion-avatar>
          <ion-grid>
            <ion-row>
              <ion-col
                size="12"
                sizeMd="6"
                *ngIf="user.name != '' && user.name != null"
              >
                <ion-label>{{ user.name }}</ion-label>
              </ion-col>
              <ion-col size="12" sizeMd="6">
                <ion-label>{{ user.email }}</ion-label>
              </ion-col>
            </ion-row>
          </ion-grid>
        </ion-item>
        <ng-template #loadingTemp>
          <ion-item lines="full">
            <div class="w-100 d-flex justify-content-center">
              <ion-spinner name="dots"></ion-spinner>
            </div>
          </ion-item>
        </ng-template>
      </ion-col>
      <ion-col size="12">
        <ion-item
          (click)="branches.length > 1 && (openChooseBranchModal = true)"
          lines="full"
        >
          <ion-label class="mx-0 my-2 branch-label" color="dark" slot="start">
            {{ dictionary.Branch }}:
            <span class="gray__color">{{ branchName }}</span>
          </ion-label>
          <ion-button slot="end" *ngIf="branches.length > 1" fill="clear">
            <ion-icon
              class="gray__color"
              name="chevron-down-outline"
            ></ion-icon>
          </ion-button>
        </ion-item>
      </ion-col>
      <ion-col size="12">
        <ion-item>
          <ion-toggle
            (ionChange)="changeDeviceModeMode()"
            [checked]="deviceModeContext(deviceMode)"
          >
            {{ dictionary.PosMode }}
          </ion-toggle>
        </ion-item>
        <hr class="mt-3 mb-0" />
      </ion-col>
      <ion-col size="12">
        <ion-button
          color="light"
          class="w-100 mt-1 menu_action_btn"
          (click)="setWalletRoute()"
        >
          <app-icon type="wallet" class="mx-1"></app-icon>
          <ion-label>
            {{ dictionary.Wallet }}
          </ion-label>
        </ion-button>
        <ion-button
          color="light"
          class="w-100 mt-1 menu_action_btn"
          (click)="setExchangeRoute()"
        >
          <app-icon type="sync_alt" class="mx-1"></app-icon>
          <ion-label>
            {{ dictionary.ExchangeRateList }}
          </ion-label>
        </ion-button>
        <ion-button
          color="light"
          class="w-100 mt-1 menu_action_btn"
          (click)="printReport('Order')"
        >
          <app-icon type="download" class="mx-1"></app-icon>
          <ion-label>
            {{ dictionary.DownloadOrderReports }}
          </ion-label>
        </ion-button>
        <!-- <ion-button
          color="light"
          class="w-100 mt-1 menu_action_btn"
          (click)="printReport('Product')"
        >
          <app-icon type="download" class="mx-1"></app-icon>
          <ion-label>
            {{ dictionary.DownloadProductReports }}
          </ion-label>
        </ion-button> -->
      </ion-col>
    </ion-row>
  </ion-grid>
  <div class="signout-container">
    <ion-button (click)="signOut()" expand="block" class="px-2" color="medium">
      {{ dictionary.SignOut }}
    </ion-button>
  </div>
</ion-content>
<app-choose-branch
  *ngIf="openChooseBranchModal"
  [isOpen]="openChooseBranchModal"
  (dismiss)="openChooseBranchModal = false"
  (branchSelectionChange)="branchSelectionChange($event)"
  [branches]="branches"
  [selectedBranch]="selectedBranch"
  [state]="'change'"
/>

<app-wheel-datepicker
  *ngIf="openDatePickerModal"
  [isOpen]="openDatePickerModal"
  (dismiss)="openDatePickerModal = false"
  (selectionDate)="getResultPrint($event)"
/>

<ion-alert
  [isOpen]="isOpenAlert"
  [message]="'There is no product in this date to report.'"
  [buttons]="alertButtons"
/>
